(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{3465:function(e,t,i){"use strict";i.r(t),i.d(t,"SessionsModule",function(){return k});var n=i("ofXK"),s=i("tyNb"),o=i("3Pt+"),l=i("1kSV"),c=i("XNiG"),r=i("1G5W"),a=i("PSD3"),b=i.n(a),d=i("fXoL"),u=i("xa+l"),f=i("RCqd"),m=i("jhN1");const h=["template"];function v(e,t){1&e&&(d.Ob(0,"div",4),d.Ob(1,"div",5),d.Ob(2,"div",6),d.Ob(3,"div",7),d.Ob(4,"span",8),d.Hc(5,"Loading..."),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb())}function g(e,t){if(1&e&&(d.Ob(0,"option",29),d.Hc(1),d.bc(2,"date"),d.Nb()),2&e){const e=t.$implicit;d.hc("value",null==e?null:e.date),d.xb(1),d.Jc(" ",d.dc(2,2,null==e?null:e.date,"mediumDate"),"")}}function p(e,t){1&e&&(d.Ob(0,"div",30),d.Hc(1," No sessions found "),d.Nb())}function O(e,t){if(1&e&&(d.Ob(0,"span",51),d.Hc(1),d.Nb()),2&e){const e=d.ac().$implicit;d.xb(1),d.Ic(null==e?null:e.startTime)}}function N(e,t){if(1&e&&(d.Ob(0,"span",52),d.Hc(1),d.Nb()),2&e){const e=d.ac().$implicit;d.xb(1),d.Ic(null==e?null:e.endTime)}}function y(e,t){if(1&e){const e=d.Pb();d.Ob(0,"div",44),d.Ob(1,"button",53),d.Yb("click",function(){d.tc(e);const t=d.ac().$implicit,i=d.ac(3),n=d.rc(4);return i.openModal(n,null==t?null:t.iframe)}),d.Kb(2,"i",54),d.Hc(3," Live "),d.Nb(),d.Nb()}}function x(e,t){if(1&e&&(d.Ob(0,"li"),d.Hc(1),d.Nb()),2&e){const e=t.$implicit;d.xb(1),d.Jc(" ",null==e?null:e.name," ")}}function w(e,t){if(1&e&&(d.Ob(0,"div"),d.Ob(1,"label",55),d.Hc(2," Moderator: "),d.Nb(),d.Ob(3,"ul"),d.Fc(4,x,2,1,"li",56),d.Nb(),d.Nb()),2&e){const e=d.ac().$implicit;d.xb(4),d.hc("ngForOf",null==e?null:e.moderators)}}function F(e,t){if(1&e&&(d.Ob(0,"li"),d.Hc(1),d.Nb()),2&e){const e=t.$implicit;d.xb(1),d.Jc(" ",null==e?null:e.name," ")}}function L(e,t){if(1&e&&(d.Ob(0,"div"),d.Ob(1,"label",55),d.Hc(2," Panelists: "),d.Nb(),d.Ob(3,"ul"),d.Fc(4,F,2,1,"li",56),d.Nb(),d.Nb()),2&e){const e=d.ac().$implicit;d.xb(4),d.hc("ngForOf",null==e?null:e.panelists)}}function S(e,t){if(1&e){const e=d.Pb();d.Ob(0,"div",38),d.Ob(1,"div",39),d.Ob(2,"span",40),d.Hc(3),d.Nb(),d.Ob(4,"div",41),d.Fc(5,O,2,1,"span",42),d.Fc(6,N,2,1,"span",43),d.Nb(),d.Ob(7,"div",44),d.Ob(8,"button",45),d.Yb("click",function(){d.tc(e);const i=t.$implicit;return d.ac(3).addToAgenda(null==i?null:i.id)}),d.Kb(9,"i",46),d.Hc(10," Attend "),d.Nb(),d.Nb(),d.Ob(11,"div",44),d.Hc(12),d.bc(13,"titlecase"),d.Nb(),d.Fc(14,y,4,0,"div",47),d.Nb(),d.Ob(15,"div",48),d.Ob(16,"h5",49),d.Hc(17),d.Nb(),d.Ob(18,"p"),d.Hc(19),d.Nb(),d.Fc(20,w,5,1,"div",50),d.Fc(21,L,5,1,"div",50),d.Nb(),d.Nb()}if(2&e){const e=t.$implicit;d.xb(3),d.Ic(null==e?null:e.location),d.xb(2),d.hc("ngIf",null==e?null:e.startTime),d.xb(1),d.hc("ngIf",null==e?null:e.endTime),d.xb(6),d.Jc(" ",d.cc(13,9,null==e?null:e.forumName)," "),d.xb(2),d.hc("ngIf",null==e||null==e.iframe?null:e.iframe.includes("<iframe")),d.xb(3),d.Ic(null==e?null:e.title),d.xb(2),d.Ic(null==e?null:e.description),d.xb(1),d.hc("ngIf",null==e?null:e.moderators),d.xb(1),d.hc("ngIf",null==e?null:e.panelists)}}function I(e,t){if(1&e&&(d.Ob(0,"div",31),d.Ob(1,"div",32),d.Ob(2,"div",33),d.Hc(3),d.bc(4,"date"),d.Nb(),d.Ob(5,"div",34),d.Ob(6,"div",35),d.Hc(7),d.bc(8,"date"),d.Nb(),d.Ob(9,"div",36),d.Hc(10),d.bc(11,"date"),d.Nb(),d.Nb(),d.Nb(),d.Fc(12,S,22,11,"div",37),d.Nb()),2&e){const e=t.$implicit;d.xb(3),d.Ic(d.dc(4,4,null==e?null:e.date,"d")),d.xb(4),d.Ic(d.dc(8,7,null==e?null:e.date,"EEEE")),d.xb(3),d.Ic(d.dc(11,10,null==e?null:e.date,"MMMM")),d.xb(2),d.hc("ngForOf",null==e?null:e.subEventsDto)}}function H(e,t){if(1&e){const e=d.Pb();d.Ob(0,"div",9),d.Ob(1,"div",10),d.Ob(2,"div",11),d.Ob(3,"form",12),d.Yb("submit",function(){return d.tc(e),d.ac().filterSubmit()}),d.Ob(4,"div",13),d.Ob(5,"label",14),d.Hc(6,"Forum Name"),d.Nb(),d.Ob(7,"select",15),d.Ob(8,"option",16),d.Hc(9,"Choose"),d.Nb(),d.Ob(10,"option",17),d.Hc(11,"Pafix"),d.Nb(),d.Ob(12,"option",18),d.Hc(13,"DSS"),d.Nb(),d.Ob(14,"option",19),d.Hc(15,"IntelliCities"),d.Nb(),d.Ob(16,"option",20),d.Hc(17,"Transmea"),d.Nb(),d.Ob(18,"option",21),d.Hc(19,"Connecta"),d.Nb(),d.Ob(20,"option",22),d.Hc(21,"Caisec"),d.Nb(),d.Nb(),d.Nb(),d.Ob(22,"div",13),d.Ob(23,"label",14),d.Hc(24,"Date"),d.Nb(),d.Ob(25,"select",23),d.Ob(26,"option",16),d.Hc(27,"Choose"),d.Nb(),d.Fc(28,g,3,5,"option",24),d.Nb(),d.Nb(),d.Ob(29,"div",25),d.Ob(30,"button",26),d.Hc(31,"Filter"),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Fc(32,p,2,0,"div",27),d.Fc(33,I,13,13,"div",28),d.Nb(),d.Nb()}if(2&e){const e=d.ac();d.Bb("disabled",e.updating),d.xb(3),d.hc("formGroup",e.filterForm),d.xb(25),d.hc("ngForOf",null==e.sessionList?null:e.sessionList.eventDays),d.xb(4),d.hc("ngIf",0==(null==e.filteredSessionList||null==e.filteredSessionList.eventDays?null:e.filteredSessionList.eventDays.length)),d.xb(1),d.hc("ngForOf",null==e.filteredSessionList?null:e.filteredSessionList.eventDays)}}function D(e,t){if(1&e){const e=d.Pb();d.Ob(0,"div",57),d.Ob(1,"h4",58),d.Hc(2,"Live Stream"),d.Nb(),d.Ob(3,"button",59),d.Yb("click",function(){return d.tc(e),d.ac().closeModal()}),d.Ob(4,"span",60),d.Hc(5,"\xd7"),d.Nb(),d.Nb(),d.Nb(),d.Ob(6,"div",61),d.Ob(7,"div",62),d.Kb(8,"iframe",63),d.Nb(),d.Nb()}if(2&e){const e=d.ac();d.xb(8),d.hc("src",e.currentIframe,d.vc)}}let C=(()=>{class e{constructor(e,t,i,n,s,l){this.globals=e,this.ss=t,this.domSanitizer=i,this.router=n,this.modalService=l,this.closeResult="",this.filteredSessionList={eventName:this.globals.event.name,eventId:this.globals.event.id,eventDays:[]},this.sessionList={eventName:this.globals.event.name,eventId:this.globals.event.id,eventDays:[]},this.dataLoaded=!1,this.updating=!1,this.filterForm=new o.f({forumName:new o.d("",[]),date:new o.d("",[])}),this.cardViewEvents=[],this.unsubscribe$=new c.a}ngOnInit(){this.getSessions()}getSessions(){this.ss.getSessions().pipe(Object(r.a)(this.unsubscribe$)).subscribe(e=>{console.log(e),this.sessionList.eventDays=null==e?void 0:e.data,this.filteredSessionList=Object.assign({},this.sessionList),this.dataLoaded=!0})}filter(e){var t;if("all"==e)this.filteredSessionList=Object.assign({},this.sessionList);else{let i=null===(t=this.sessionList)||void 0===t?void 0:t.eventDays.filter(e=>e)[e];this.filteredSessionList.eventDays=[i]}}convertStringToHTML(e){return(new DOMParser).parseFromString(e,"text/html").body.children[0]}openModal(e,t){this.currentIframe=this.convertStringToHTML(t).getAttribute("src"),this.currentIframe=this.domSanitizer.bypassSecurityTrustResourceUrl(this.currentIframe),console.log(this.currentIframe),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"xl"}).result.then(e=>{this.closeResult="Closed with: "+e},e=>{this.closeResult="Dismissed "+this.getDismissReason(e)})}closeModal(){return this.modalService.dismissAll(),!0}getDismissReason(e){return this.closeModal(),e===l.a.ESC?"by pressing ESC":e===l.a.BACKDROP_CLICK?(console.log("back drop"),"by clicking on a backdrop"):"with: "+e}filterSubmit(){let e=this.filterForm.controls.forumName.value,t=this.filterForm.controls.date.value;this.filteredSessionList.eventDays=Object.assign([],this.sessionList.eventDays),console.log(e,t),""==e?this.filterByForumDate(t):this.filterByForumName(e,t)}filterByForumName(e,t){this.filteredSessionList.eventDays=this.filteredSessionList.eventDays.filter(t=>t.subEventsDto.filter(t=>{var i;if((null===(i=t.forumName)||void 0===i?void 0:i.toLowerCase())==(null==e?void 0:e.toLowerCase()))return console.log(t.forumName),console.log(t),t})[0]),console.log(this.filteredSessionList),console.log(this.sessionList),this.filterByForumDate(t)}filterByForumDate(e){console.log(e),""!=e&&(this.filteredSessionList.eventDays=this.filteredSessionList.eventDays.filter(t=>t.date==e))}addToAgenda(e){this.updating=!0,this.globals.loggedIn?this.ss.addToUserAgenda(e).subscribe(e=>{console.log(e),this.updating=!1,b.a.fire({icon:"success",showConfirmButton:!1,timer:2e3})},e=>{console.log(e),this.updating=!1,b.a.fire({icon:"error",text:e.error,showConfirmButton:!1,timer:2e3})}):(b.a.fire({icon:"info",text:"This action required a logged in user",showConfirmButton:!0,confirmButtonColor:"#007FFF",confirmButtonText:"Login Page",showCancelButton:!0}).then(e=>{e.isConfirmed&&this.router.navigate(["/auth"])}),this.updating=!1)}removeFromAgenda(e){this.updating=!0,this.ss.removeFromUserAgenda(e).subscribe(e=>{console.log(e),this.updating=!1,b.a.fire({icon:"success",showConfirmButton:!1,timer:2e3}).then(()=>{this.ngOnInit()})},e=>{console.log(e),this.updating=!1,b.a.fire({icon:"error",showConfirmButton:!1,timer:2e3})})}ngOnDestroy(){console.log("distroyed"),this.unsubscribe$.next(),this.unsubscribe$.complete(),console.log("unsubscribe")}}return e.\u0275fac=function(t){return new(t||e)(d.Jb(u.a),d.Jb(f.a),d.Jb(m.b),d.Jb(s.b),d.Jb(l.c),d.Jb(l.b))},e.\u0275cmp=d.Db({type:e,selectors:[["app-session-list"]],viewQuery:function(e,t){if(1&e&&d.Lc(h,!0),2&e){let e;d.qc(e=d.Zb())&&(t.template=e.first)}},decls:5,vars:2,consts:[[1,"container","px-4"],["class","row mb-5",4,"ngIf"],["class","row",3,"disabled",4,"ngIf"],["template",""],[1,"row","mb-5"],[1,"col-md-12","py-5"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-md-12","bg-white","my-5","p-4","rounded-box"],[1,"bg-light","mb-5","p-3","rounded"],[1,"row",3,"formGroup","submit"],[1,"form-group","col-md-4","mb-2"],[1,"fw-bolder"],["formControlName","forumName",1,"form-select"],["value",""],["value","Pafix"],["value","DSS"],["value","IntelliCities"],["value","Transmea"],["value","Connecta"],["value","Caisec"],["formControlName","date",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"align-content-center","col-md-4","d-flex","form-group","justify-content-end","mt-auto","mb-2"],["type","submit",1,"btn","btn-primary","px-5"],["class","alert alert-info text-center",4,"ngIf"],["class","session-list",4,"ngFor","ngForOf"],[3,"value"],[1,"alert","alert-info","text-center"],[1,"session-list"],[1,"event-day"],[1,"day-number","align-self-end"],[1,"align-self-end"],[1,"day-text"],[1,"month"],["class","session-details",4,"ngFor","ngForOf"],[1,"session-details"],[1,"time"],[1,"location"],[1,"start-end"],["class","start",4,"ngIf"],["class","end",4,"ngIf"],[1,"text-center","mt-3"],[1,"btn","btn-dark",3,"click"],[1,"far","fa-calendar-plus"],["class","text-center mt-3",4,"ngIf"],[1,"info"],[1,"title"],[4,"ngIf"],[1,"start"],[1,"end"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-video"],[1,"fw-bold"],[4,"ngFor","ngForOf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right","shadow-none",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"v-embed"],["title","Live Video","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"v169",3,"src"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Fc(1,v,6,0,"div",1),d.Fc(2,H,34,6,"div",2),d.Nb(),d.Fc(3,D,9,1,"ng-template",null,3,d.Gc)),2&e&&(d.xb(1),d.hc("ngIf",!t.dataLoaded),d.xb(1),d.hc("ngIf",t.dataLoaded))},directives:[n.m,o.v,o.m,o.g,o.s,o.l,o.e,o.p,o.u,n.l],pipes:[n.e,n.w],styles:[".v-embed[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;padding-top:56.25%}.v-embed[_ngcontent-%COMP%]   .v169[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}"]}),e})();var M=i("gK8K"),T=i("H3jT");const B=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Db({type:e,selectors:[["app-sessions"]],decls:10,vars:0,consts:[[1,"head-bg"],[1,"container"],[1,"row"],[1,"col-12"],["src","assets/images/main-banner.png",1,"img-fluid"]],template:function(e,t){1&e&&(d.Ob(0,"div",0),d.Kb(1,"app-header"),d.Nb(),d.Ob(2,"main"),d.Ob(3,"div",0),d.Ob(4,"div",1),d.Ob(5,"div",2),d.Ob(6,"div",3),d.Kb(7,"img",4),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Kb(8,"router-outlet"),d.Nb(),d.Kb(9,"app-footer"))},directives:[M.a,s.g,T.a],styles:[""]}),e})(),children:[{path:"",component:C},{path:"**",redirectTo:""}]}];let P=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[s.f.forChild(B)],s.f]}),e})();var $=i("MfXf");let k=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[n.c,P,$.a]]}),e})()}}]);